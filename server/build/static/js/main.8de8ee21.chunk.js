(this["webpackJsonprecodenames-app"]=this["webpackJsonprecodenames-app"]||[]).push([[0],{40:function(e,t,s){},41:function(e,t,s){},42:function(e,t,s){},43:function(e,t,s){},45:function(e,t,s){},46:function(e,t,s){},47:function(e,t,s){},79:function(e,t,s){"use strict";s.r(t);var n=s(1),r=s.n(n),a=s(34),c=s.n(a),i=(s(40),s(2)),u=s(3),l=s(5),o=s(4),h=(s(41),s(42),s(43),s(0)),d=function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e=this.props.clues.map((function(e,t){return Object(h.jsxs)("div",{className:"clue-"+e.team,children:[e.content," (",e.number,")"]},t)}));return Object(h.jsxs)("div",{className:"game-info",children:[Object(h.jsxs)("div",{className:"earlier-clues",children:[Object(h.jsx)("h2",{children:"Earlier Clues:"}),Object(h.jsx)("ul",{children:e})]}),Object(h.jsxs)("div",{className:"new-clue",children:[Object(h.jsx)("h2",{children:"New Clue:"}),"guess"===this.props.phase?e[e.length-1]:"waiting for spymaster..."]}),Object(h.jsxs)("div",{className:"game-phase",children:[Object(h.jsxs)("h2",{children:["It is ",this.props.turn,"'s turn to ",this.props.phase,"."]}),"guess"===this.props.phase?"Guesses left: ".concat(this.props.guessesLeft):""]}),Object(h.jsxs)("div",{className:"scores",children:[Object(h.jsx)("h3",{children:"Scores:"}),Object(h.jsxs)("p",{children:["Red: ",this.props.score.red]}),Object(h.jsxs)("p",{children:["Blue: ",this.props.score.blue]})]})]})}}]),s}(r.a.Component),p=(s(45),function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).styleUser=function(e){return Object(h.jsxs)("span",{className:e.role+"-user",children:[e.username," "]},e.id)},e.handleClick=function(t){e.props.joinTeam(t.target.dataset.team,t.target.dataset.role)},e}return Object(u.a)(s,[{key:"render",value:function(){var e=this.props.userList.filter((function(e){return"blue"===e.team})).map(this.styleUser),t=this.props.userList.filter((function(e){return"red"===e.team})).map(this.styleUser),s=this.props.userList.filter((function(e){return"spectator"===e.team})).map(this.styleUser);return Object(h.jsxs)("div",{className:"room-info",children:[Object(h.jsxs)("div",{className:"team blue-team",children:[Object(h.jsx)("h2",{children:"Team Blue"}),e,Object(h.jsx)("button",{"data-team":"blue","data-role":"guesser",onClick:this.handleClick,children:"Join as Guesser"}),Object(h.jsx)("button",{"data-team":"blue","data-role":"master",onClick:this.handleClick,children:"Join as Master"})]}),Object(h.jsxs)("div",{className:"team red-team",children:[Object(h.jsx)("h2",{children:"Team Red"}),t,Object(h.jsx)("button",{"data-team":"red","data-role":"guesser",onClick:this.handleClick,children:"Join as Guesser"}),Object(h.jsx)("button",{"data-team":"red","data-role":"master",onClick:this.handleClick,children:"Join as Master"})]}),Object(h.jsxs)("div",{className:"team spectators",children:[Object(h.jsx)("h2",{children:"Spectators"}),s,Object(h.jsx)("button",{"data-team":"spectator","data-role":"spectator",onClick:this.handleClick,children:"Join"})]})]})}}]),s}(r.a.Component)),m=(s(46),function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"code-card",children:Object(h.jsx)("p",{onClick:this.props.handleClick,className:"code-text "+this.props.color+"-col"+(this.props.selected?"-sel":"")+(this.props.turned?"-turned":""),children:this.props.word})})}}]),s}(r.a.Component)),b=function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).onItemSelected=function(e){n.props.cards[e].turned||(n.state.selected===e?n.setState({selected:-1}):n.setState({selected:e}))},n.handleSubmitGuess=function(){-1!==n.state.selected?n.props.submitGuess(n.state.selected):alert("no card selected"),n.setState({selected:-1})},n.handleSubmitClue=function(e){n.props.submitClue(n.state.clue,parseInt(n.state.number)),n.setState({clue:"",number:1})},n.handleBotClue=function(e){n.props.botClue(n.state.number),n.setState({clue:"",number:1})},n.handleKeyPress=function(e){"Enter"===e.key&&n.handleSubmitClue()},n.handleChange=function(e){n.setState({clue:e.target.value})},n.handleNumberChange=function(e){n.setState({number:e.target.value})},n.state={selected:-1,clue:"",number:1},n}return Object(u.a)(s,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"view "+this.props.turn+"-turn",children:[Object(h.jsxs)("div",{className:"left-panel",children:[Object(h.jsx)("div",{className:"game-board",children:this.props.cards.map((function(t,s){return Object(h.jsx)(m,{color:t.color,word:t.text,selected:e.state.selected===s,handleClick:e.props.myTurnToGuess&&!t.turned?function(t){return e.onItemSelected(s)}:null,turned:t.turned},s)}))}),Object(h.jsxs)("div",{className:"controls",children:[this.props.myTurnToGuess&&Object(h.jsx)("button",{onClick:this.handleSubmitGuess,disabled:"clue"===this.props.phase,children:"Submit guess"}),this.props.myTurnToClue&&Object(h.jsx)("input",{className:"clue-input",onKeyPress:this.handleKeyPress,onChange:this.handleChange,value:this.state.clue,type:"text",disabled:"guess"===this.props.phase,placeholder:"Enter a clue"},"clue"),this.props.myTurnToClue&&Object(h.jsx)("input",{type:"number",onChange:this.handleNumberChange,value:this.state.number,placeholder:"1",min:"1",max:"10"},"number"),this.props.myTurnToClue&&Object(h.jsx)("button",{onClick:this.handleSubmitClue,disabled:"guess"===this.props.phase,children:"Submit clue"}),this.props.myTurnToClue&&Object(h.jsx)("button",{onClick:this.handleBotClue,disabled:"guess"===this.props.phase,children:"Bot clue"})]})]}),Object(h.jsx)(p,{userList:this.props.userList,joinTeam:this.props.joinTeam}),Object(h.jsx)(d,{turn:this.props.turn,clues:this.props.clues,score:this.props.score,phase:this.props.phase,guessesLeft:this.props.guessesLeft})]})}}]),s}(r.a.Component),j=(s(47),function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).handleKeyPress=function(e){"Enter"===e.key&&n.handleSubmit()},n.handleChange=function(e){n.setState({username:e.target.value})},n.handleSubmit=function(e){n.props.registerUser(n.state.username)},n.state={username:""},n}return Object(u.a)(s,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{className:"username-input",onKeyPress:this.handleKeyPress,onChange:this.handleChange,value:this.state.username,type:"text"},"username"),Object(h.jsx)("button",{onClick:this.handleSubmit,children:"Submit"})]})}}]),s}(r.a.Component)),f=s(35),O=Object(f.io)("http://localhost:9000",{autoConnect:!1});O.onAny((function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];console.log(e,s)})),O.on("connect_error",(function(e){"username too short"===e.message&&alert("bad username")}));var C=O,g=function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).registerUser=function(e){n.setState({usernameSelected:!0}),C.auth={username:e},C.connect()},n.joinTeam=function(e,t){n.setState({team:e,role:t}),C.emit("join team",e,t)},n.submitGuess=function(e){C.emit("new guess",e)},n.submitClue=function(e,t){if(""!==e){var s={content:e,number:t,team:n.state.turn};C.emit("new clue",s)}else alert("no clue entered")},n.botClue=function(e){C.emit("bot clue",e)},n.state={usernameSelected:!1,username:"",team:"spectator",role:"spectator",userList:[],guesser:!1,clues:[],turn:"red",phase:"clue",score:{red:0,blue:0},cards:[],guessesLeft:0},C.on("userlist",(function(e){return n.setState({userList:e})})),C.on("cardlist",(function(e){return n.setState({cards:e})})),C.on("scores",(function(e){return n.setState({score:e})})),C.on("clue change",(function(e){return n.setState({clues:e})})),C.on("phase change",(function(e,t,s){return n.setState({turn:e,phase:t,guessesLeft:s})})),n}return Object(u.a)(s,[{key:"render",value:function(){return this.state.usernameSelected?Object(h.jsx)(b,{cards:this.state.cards,toggleView:this.toggleView,guessesLeft:this.state.guessesLeft,submitGuess:this.submitGuess,submitClue:this.submitClue,botClue:this.botClue,myTurnToGuess:"guess"===this.state.phase&&this.state.team===this.state.turn&&"guesser"===this.state.role,myTurnToClue:"clue"===this.state.phase&&this.state.team===this.state.turn&&"master"===this.state.role,clues:this.state.clues,turn:this.state.turn,team:this.state.team,role:this.state.role,phase:this.state.phase,score:this.state.score,userList:this.state.userList,joinTeam:this.joinTeam}):Object(h.jsx)(j,{registerUser:this.registerUser})}}]),s}(r.a.Component);c.a.render(Object(h.jsx)(g,{}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.8de8ee21.chunk.js.map